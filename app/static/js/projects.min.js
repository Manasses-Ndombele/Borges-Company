let firstName=document.querySelector('input#first-name-field')
let lastName=document.querySelector('input#last-name-field')
let companyName=document.querySelector('input#company-name-field')
let companySite=document.querySelector('input#company-site-field')
let companyPosition=document.querySelector('select#company-position-field')
let email=document.querySelector('input#email-field')
let message=document.querySelector('textarea#message-field')
let formFields=[firstName,lastName,companyName,companySite,companyPosition,email,message]
function verifyFields(){if(/[^a-zA-Z]/.test(firstName.value)){return{'error':!0,'field':firstName}}else if(/[^a-zA-Z]/.test(lastName.value)){return{'error':!0,'field':lastName}}else if(!/^[a-z]+(\d*|-*[a-z]+)+(\.[a-z]{2,})+/g.test(companySite.value)){return{'error':!0,'field':companySite}}
return{'error':!1}}
function capitalizeWords(str){let words=str.split(' ')
for(let i=0;i<words.length;i++){words[i]=words[i].charAt(0).toUpperCase()+words[i].slice(1).toLowerCase()}
return words.join(' ')}
let supportForm=document.querySelector('div#support-area').querySelector('form')
supportForm.addEventListener('submit',(event)=>{event.preventDefault()
let formSubmit=verifyFields()
if(!formSubmit.error){document.querySelector('p#modal-body-description').innerHTML=`Mr. ${firstName.value.charAt(0).toUpperCase() + firstName.value.slice(1).toLowerCase()} ${lastName.value.charAt(0).toUpperCase() + lastName.value.slice(1).toLowerCase()}, ${companyPosition.value} of ${capitalizeWords(companyName.value)} thank you very much for your message. Our support team will receive it shortly and send a response to your email: ${email.value.toLowerCase()}`
for(var field of formFields){if(field.classList.contains('is-invalid')){field.classList.remove('is-invalid')}
field.value=''}
document.querySelector('button#modal-confirmation-btn').click()}else{for(var field of formFields){if(field.classList.contains('is-invalid')&&field.id!==formSubmit.field.id){field.classList.remove('is-invalid')}}
if(formSubmit.field.id==='first-name-field'){window.alert('The first name field must contain only unaccented letters. Check if you have entered any characters outside this condition!')}else if(formSubmit.field.id==='last-name-field'){window.alert('The last name field must contain only unaccented letters. Check if you have entered any characters outside this condition!')}else if(formSubmit.field.id==='company-site-field'){window.alert('The company website field must contain a valid domain. Check if you have entered any characters outside this condition!')}
formSubmit.field.classList.add('is-invalid')
formSubmit.field.focus()}})